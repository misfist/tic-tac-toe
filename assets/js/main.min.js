var board={1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null,9:null},player,computer,availableMoves=function(n){for(var a=[],e=Object.keys(n).length,o=1;e>=o;o++)null==n[o]&&a.push(o);return a},winner=function(n,a){return n[1]==a&&n[2]==a&&n[3]==a||n[4]==a&&n[5]==a&&n[6]==a||n[7]==a&&n[8]==a&&n[9]==a||n[1]==a&&n[4]==a&&n[7]==a||n[2]==a&&n[5]==a&&n[8]==a||n[3]==a&&n[6]==a&&n[9]==a||n[1]==a&&n[5]==a&&n[9]==a||n[3]==a&&n[5]==a&&n[7]==a},winningMove=function(n,a){for(var e=availableMoves(n),o=0;o<e.length;o++){var l=$.extend(!0,{},n);if(l[e[o]]=a,winner(l,a))return e[o]}},playerTurn=function(n,a,e){e.addClass("selected "+a.toLowerCase()+"-mark").prop("disabled",!0),e.html(a);var o=e.attr("id");o=parseInt(o),n[o]=a,console.log("Player move board[move] index ",o)},computerTurn=function(n){var a="O",e=availableMoves(n);if(winningMove(n,a))var o=winningMove(n,a);else var l=Math.ceil(Math.random()*e.length),o=e[l-1];n[o]=a,console.log("Computer move board[move] index ",o),$("#"+o).addClass("selected "+a.toLowerCase()+"-mark").prop("disabled",!0),$("#"+o).html(a)},playAgain=function(n,a){$(n).after('<button id="reload" class="btn btn-success">'),$("#reload").html(a),$("#reload").on("click",function(){window.location.reload(),$(n).find("button").prop("disabled",!1)})};$(document).ready(function(){$("#tic-tac-toe").find("button").prop("disabled",!1),$("#tic-tac-toe").on("click","button",function(){if(playerTurn(board,"X",$(this)),winner(board,"X"))return alert("You Win!"),void playAgain("#tic-tac-toe","Play Again");var n=availableMoves(board);return n.length>0?(computerTurn(board),winner(board,"O")?(alert("You Lose!"),void playAgain("#tic-tac-toe","Play Again")):void 0):(alert("It's a Tie!"),void playAgain("#tic-tac-toe","Play Again"))})});